
<!DOCTYPE html>
<html lang="en-us">
    <head>
        
            
                <title>Why open source contribution is hard</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.49" />
        
    
        
        
    

    

    <link rel="apple-touch-icon-precomposed"
        href='/favicon/apple-touch-icon-precomposed-512.png'>
    <link rel="icon" href='/favicon/favicon-512.png'>
    
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage"
        content='/favicon/mstile-512.png'>



        
        
            
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Why open source contribution is hard"/>
<meta name="twitter:description" content="This article is based on my reflection on one of my pull requests.
My pull request is to resolve an usability issue of Visual Studio Code. Basically, if you opened a file in vscode and clicked &lsquo;view its changes from version control system&rsquo;, a sidewindow showing its last version would appear so you could compare the two versions. The problem was that your previous view position of the file was not preserved, and the vscode would scroll your screen to the cursor position of the file, which surprised the user."/>

        <meta property="og:title" content="Why open source contribution is hard" />
<meta property="og:description" content="This article is based on my reflection on one of my pull requests.
My pull request is to resolve an usability issue of Visual Studio Code. Basically, if you opened a file in vscode and clicked &lsquo;view its changes from version control system&rsquo;, a sidewindow showing its last version would appear so you could compare the two versions. The problem was that your previous view position of the file was not preserved, and the vscode would scroll your screen to the cursor position of the file, which surprised the user." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hirico.moe/post/whyopensourceishard/" /><meta property="article:published_time" content="2018-09-06T12:00:00&#43;08:00"/>
<meta property="article:modified_time" content="2018-09-06T12:00:00&#43;08:00"/>

        
<meta itemprop="name" content="Why open source contribution is hard">
<meta itemprop="description" content="This article is based on my reflection on one of my pull requests.
My pull request is to resolve an usability issue of Visual Studio Code. Basically, if you opened a file in vscode and clicked &lsquo;view its changes from version control system&rsquo;, a sidewindow showing its last version would appear so you could compare the two versions. The problem was that your previous view position of the file was not preserved, and the vscode would scroll your screen to the cursor position of the file, which surprised the user.">


<meta itemprop="datePublished" content="2018-09-06T12:00:00&#43;08:00" />
<meta itemprop="dateModified" content="2018-09-06T12:00:00&#43;08:00" />
<meta itemprop="wordCount" content="793">



<meta itemprop="keywords" content="Software Engineering,Github," />

        

        

        
        
            
        

        

        

        
        
        
            
        
    </head>
    <body>

    <style>
*
{
	padding: 0;
	margin: 0;
}

body,html
{
	font-size: 1em;
	line-height: 1.65em;
    font-family:"Open Sans",sans-serif;
    font-weight:300;color:#444;
	background-color: #ecf0f1;
}

html
{
	height: 100%;
}

body
{
	padding: 2em 2.5em 1em 20em;
}

header
{
	border-right:1px #eee solid;
	padding: 2em;
	position: fixed;
	top: 0;
	left: 0;
	height: 100%;
	width: 13.5em;
	background-color: #2c3e50;
	color: #ecf0f1;
}

#content
{
	display: block;
	width: 100%;
}

footer
{
	padding: 1em 0 2.5em;
	font-size: .8em;
	line-height: 1.5em;
	color: #95a5a6;
}

article
{
	border-bottom: .1em #bdc3c7 solid;
	padding-bottom: 1.7em;
	max-width: 56em;
}

h4,h5,h6,hr,p
{
	margin-top: .9em;
	margin-bottom: .9em;
}

h1,h2,h3,h4,h5,h6
{
	font-family:"Bree Serif",serif;
    font-weight:400!important
}

h1
{
	font-size: 2.5em;
	line-height: 1.1em;
	margin-top: .6em;
	margin-bottom: .6em;
}

h2
{
	font-size: 1.9em;
	line-height: 1.2em;
	margin-top: .7em;
	margin-bottom: .7em;
}

h3
{
	font-size: 1.4em;
	line-height: 1.3em;
	margin-top: .8em;
	margin-bottom: .8em;
}

h4
{
	font-size: 1.3em;
}

h5
{
	font-size: 1.2em;
}

h6
{
	font-size: 1.1em;
}

iframe,img
{
	max-width: 100%;
}

a
{
	font-weight: 700;
	text-decoration: none;
}

a:hover
{
	text-decoration: underline;
}

h1 a,h2 a,h3 a,h4 a,h5 a,h6 a
{
	font-weight: 400;
}

strong
{
	font-weight: 700;
}

blockquote
{
	border-left: .4em solid #bdc3c7;
	padding-left: 1.2em;
	font-size: 1.3em;
}

hr
{
	border: 0;
	height: 1px;
	background: #bdc3c7;
}

ol,ul
{
	margin-left: 3em;
}

code
{
	font-size: 1.2em;
	background: #bdc3c7;
}

pre
{
	font-size: .8em;
	line-height: 2em;
	background: #bdc3c7;
	padding: 1em;
	word-break: break-all;
	word-wrap: break-word;
	white-space: pre;
	white-space: -moz-pre-wrap;
	white-space: pre-wrap;
}

input
{
	font-size: 1em;
	padding: .3em;
}

header h1
{
	font-size: 1.9em;
	margin-top: .8em;
	margin-bottom: .6em;
}

h3 a{
	color: #34495e
}

header a
{
	color: #f4f4f4;
}

header h1 a:hover
{
	text-decoration: none;
}

header #logo img
{
	width: 9em;
	height: 9em;
	border-radius: 4.5em;
	-moz-border-radius: 4.5em;
	-webkit-border-radius: 4.5em;
	border: 0;
}

#follow-icons
{
	font-size: .7em;
	margin-top: -.7em;
	margin-bottom: 1.5em;
}

#follow-icons a
{
	color: #ccc;
	margin-right: 0.5em;
}

#follow-icons span
{
	vertical-align: top;
	margin-left: -.15em;
	margin-right: -.15em;
}

#follow-icons span .fa-stack-1x
{
	font-size: 1.05em;
	line-height: 1.9em;
}

header h6
{
	margin-top: .5em;
}

article span.post-stamp
{
	color: #888;
}

h1.post-title
{
	margin-top: .35em;
	margin-bottom: .6em;
}

h3.post-title
{
	margin-top: .4em;
	padding-bottom: .9em;
	border-bottom: 1px solid #bdc3c7;
	font-size: 1.2em;
	color: #34495e;
	font-family: "Open Sans",sans-serif;
	"Open Sans"-weight: 700!important;
}

.sitetaglist
{
	list-style-type: none;
	display: block;
	margin-left: 0;
	text-align: center;
	margin-bottom: 1.25em;
	font-size: 0.8em;
}

.sitetaglist li
{
	display: inline;
}

.sitetaglisttitle
{
	margin-bottom: .3em;
}

h3.post-title>time
{
	font-family: "Open Sans",sans-serif;
	font-weight: 300!important;
	font-size: .9em;
}

.post-title .feature-star
{
	font-size: .9em;
}

.feature-star,.separator
{
	color: #ccc;
}

.taglist { color: #ccc }

.taglist a {
    background-color: #ccc;
    color: #fff;
    display: inline-block;
    line-height: 1.5em;
    padding: .3em .6em;
    vertical-align: 20%;
    font-size: .5em;
    font-weight: 700!important;
    text-transform: uppercase;
    letter-spacing: .05em;
    border-radius: .25em;
    -moz-border-radius: .25em;
    -webkit-border-radius: .25em;
}

#social-bar
{
	margin-top: 1.5em;
	background-color: #bdc3c7;
	padding: .5em;
}

.pagination
{
	margin-bottom: 1em;
}

footer a
{
	font-weight: 300;
	color: #95a5a6;
	text-decoration: underline;
}

footer a:hover
{
	color: #7f8c8d;
	text-decoration: none;
}

.uk-search
{
	display: inline-block;
	position: relative;
	margin: 0;
}

.uk-search:before
{
	content: "\f002";
	position: absolute;
	top: 0;
	left: 0;
	width: 1.87em;
	line-height: 2.5em;
	text-align: center;
	font-family: FontAwesome;
	font-size: 0.87em;
	color: #1abc9c;
}

.uk-search-field::-moz-focus-inner
{
	border: 0;
	padding: 0;
}

.uk-search-field::-webkit-search-cancel-button,.uk-search-field::-webkit-search-decoration
{
	-webkit-appearance: none;
}

.uk-search-field::-ms-clear
{
	display: none;
}

.uk-search-field::-moz-placeholder
{
	opacity: 1;
}

.uk-search-field
{
	font-family: "Open Sans",sans-serif;
	color: #ecf0f1;
	-webkit-appearance: none;
	width: 11.25em;
	height: 1.87em;
	padding: 0 0 0 1.87em;
	border: 0;
	background: rgba(0,0,0,0);
	-webkit-transition: all linear .2s;
	transition: all linear .2s;
	vertical-align: middle;
}

.uk-search-field:-ms-input-placeholder
{
	color: #95a5a6!important;
}

.uk-search-field::-moz-placeholder
{
	color: #95a5a6;
}

.uk-search-field::-webkit-input-placeholder
{
	color: #95a5a6;
}

.uk-search-field:focus
{
	outline: 0;
}

.uk-search-field:focus,.uk-search.uk-active .uk-search-field
{
	width: 11.25em;
}

.gs-image-box,.gsc-above-wrapper-area,.gsc-cursor-box,.gsc-url-bottom,.gsc-thumbnail,.gs-per-result-labels
{
	display: none!important;
	visibility: hidden!important;
}

.gsc-control-cse,.gsc-results
{
	font: inherit!important;
	background: inherit!important;
	border: inherit!important;
	padding: inherit!important;
	margin: inherit!important;
}

.gsc-result
{
	border: inherit!important;
	background: inherit!important;
	padding: inherit!important;
}

.gs-title
{
	font-family: "Open Sans",sans-serif!important;
	color: #e74c3c!important;
	text-decoration: none!important;
	height: inherit!important;
	overflow: inherit!important;
}

.gs-snippet
{
	color: inherit!important;
	font-family: "Open Sans",sans-serif!important;
	height: inherit!important;
	overflow: inherit!important;
}

@media only screen and (min-width:1281px)
{
	body,html
	{
		font-size: 1.1em;
	};
}

@media only screen and (max-width:800px)
{
	body
	{
		padding: 0;
	}

	header
	{
		border-right: 0;
		border-bottom: 1px #bdc3c7 solid;
		position: relative;
		height: auto;
		width: auto;
		text-align: center;
		padding-bottom: 1em;
	}

	#content
	{
		margin-left: 0;
		padding: 2em 2em 1em;
		width: auto;
	}

	footer
	{
		padding: 0 2.5em 2em;
	};
}

@media only screen and (max-width:31.25em)
{
	#content,header
	{
		padding: 1.2em 1.2em .6em;
	}

	footer
	{
		padding: 0 1.5em 1.2em;
	}

	ol,ul
	{
		margin-left: 2em;
	};
}

.section
{
	clear: both;
	padding: 0;
	margin: 0;
}

.col
{
	display: block;
	float: left;
	margin: 1% 0 1% 1.6%;
}

.col:first-child
{
	margin-left: 0;
}

.group:before,.group:after
{
	content: "";
	display: table;
}

.group:after
{
	clear: both;
}

.group
{
	zoom: 1;
}

.span_3_of_3
{
	width: 100%;
}

.span_2_of_3
{
	width: 66.13%;
}

.span_1_of_3
{
	width: 32.26%;
}

@media only screen and (max-width: 480px)
{
	.col
	{
		margin: 1% 0;
	}

	.span_3_of_3,.span_2_of_3,.span_1_of_3
	{
		width: 100%;
	};
}

@media only screen and (max-height: 550px)
{
	.sitetaglist, .sitetaglisttitle
	{
		display: none;
		visibility: hidden;
	}
}

.portfoliobox
{
	text-align: center;
	margin-bottom: 1em;
}

.portfoliobox img
{
	max-height: 10em;
}

.portfoliobox h4
{
	margin-top: 0;
}

.portfolio-meta
{
	margin-bottom: .5em;
}

.portfolio-meta > *
{
	display: block;
}

.portfolio-tag
{
	font-weight: 600;
}
</style>
    
    </head>
        <header id="header">
            
            <a id="logo" href="https://hirico.moe/"><img src="/img/avatar.png" alt="Omnidox" /></a>
                                        
            
            <h1><a href="https://hirico.moe/">Omnidox</a></h1>
            <p></p>

            
            <div id="follow-icons">
    <a href="https://github.com/hirico" rel="me"><i class="fa fa-github-square fa-2x" style="color:#1abc9c" style="font-size: 13px;"></i></a>
</div>             
            <h6 class="sitetaglisttitle">Tags</h6>
<ul class="sitetaglist">
    
        
            <li><a href="/tags/misc">misc (4)</a></li>
        
    
        
            <li><a href="/tags/software-engineering">software-engineering (3)</a></li>
        
    
        
            <li><a href="/tags/github">github (1)</a></li>
        
    
        
            <li><a href="/tags/stack-overflow">stack-overflow (1)</a></li>
        
    
</ul>

            <hr class="nav-site-separator">
<h6>Links</h6>
<nav class="nav">
      <ul class="nav-list">
        <font size="3">
	    
           <li class="nav-site"><a href="http://moon.nju.edu.cn/spar/" target="_blank">NJU SPAR</a></li>
 
		</font>
	  </ul>
</nav>



            <form class="uk-search" action="https://hirico.moe/search/">
    <input class="uk-search-field" id="q" name="q" type="search" placeholder="search in blog" />
</form>

            
           
    
        </header>
<main id="content">

<article id="" class="post">
    <div class="post-stamp">
        <span class="taglist">
        
        &middot;
        
            <a href="https://hirico.moe/tags/software-engineering/">Software Engineering</a>
        
            <a href="https://hirico.moe/tags/github/">Github</a>
        
        
        </span>
          
    </div>
    
    <h1 class="post-title">Why open source contribution is hard</h1>
    <p>This article is based on my reflection on <a href="https://github.com/Microsoft/vscode/pull/54867">one</a> of my pull requests.</p>

<p>My pull request is to resolve an <a href="https://github.com/Microsoft/vscode/issues/53465">usability issue</a> of Visual Studio Code. Basically, if you opened a file in vscode and clicked &lsquo;view its changes from version control system&rsquo;, a sidewindow showing its last version would appear so you could compare the two versions. The problem was that your previous view position of the file was not preserved, and the vscode would scroll your screen to the cursor position of the file, which surprised the user. I found this issue interesting because it had been opened for 20 days, definitely longer than average fix time, and I wanted to see what made it difficult.</p>

<p>Determining which code triggered the bug was easy. This bug was easy to reproduce, and I managed to locate the code which opens sidewindow within 3 minutes, by using the wording in GUI to search the code base. My next 3 hours were all spent on coming up with a good solution. As an outsider, I know I should be careful to not break project owners&rsquo; mental model of how things should work. Oftentimes worked solutions get rejected for the sake of consistency. Guidelines of contribution often explicitly states <a href="https://github.com/Microsoft/vscode/wiki/Code-Organization">tons of constraints</a>, and still fails to catch every subtle constraint of the project.</p>

<p>Understanding the related code space and design space, as well as picking a good solution was hard. Back to the code, it turned out they didn&rsquo;t <em>add</em> a sidewindow, but <em>closed</em> the previous window (they call it editor but I will keep using window here) and <em>opened</em> a new two-column one, and the parameters which the new two-column window received were 1. the file path and 2. the cursor position. In this model, the new window had no idea what the previous view position was. Several possible solutions came to my mind:</p>

<ul>
<li>If the new window has a method that can scroll based on the position of another window, then I can add a new parameter to the new one&rsquo;s constructor (by overloading) and pass the previous window into it.</li>
<li>If the new window has a method that can scroll based on a Position object, then I can extract the previous one&rsquo;s view position, add a new parameter to the new one&rsquo;s constructor and pass the previous position into it.</li>
<li>Leave the current constructor untouched, and call the new window&rsquo;s positioning method from the outside code.</li>
</ul>

<p>I personally prefer the former two approaches since overloading sounds like a pure plus to me, and doing something like a commander outside the function chains always look unrefined.
To see if the maintainers would agree with me, I searched the Internet and found a <a href="https://github.com/Microsoft/vscode/pull/19535">discussion</a>. All of a sudden I got puzzled. Basically the overloading approach is discouraged and the people there briefly mentioned a suggestion to turn to another more configurable API which also opens new window. However, after digging for a while, I found that the current implementation of that API also didn&rsquo;t consider view position, and to elegantly add a configuration option to preserve view would involve changing interfaces, but interface changes have to be throughtly discussed with maintainers, requiring significant amount of time, which I lacked.</p>

<p>Then I started to examine the last solution. It seemed all I need are a readable property of the previous window and a setting view method for the new window. Wait a second, I don&rsquo;t know whether you have noticed that now I&rsquo;m pretending that I knew the view position was a property of a single, concrete, obvious object - the hypothetical window object, but back then I actually struggled to discover <em>how the concept was concretely represented in the code base</em>, especially when there were tons of confusing names. There existed a workspace, an editor, a TextEditor, a TextDocument, a window, an env, and such, and each of them have a legitimate reason to store the view information. My first try went fruitless - I thought the property name might contain <em>line</em> or <em>scroll</em>, so I searched those words across the code base, and got to <code>scrollPosition</code> and <code>revealLine</code> which I later figured out were actually private. Finally, I went mad and I started to throughly read the lengthy code of each of those objects, and found the mysterious <code>revealRange</code>, the publicly usable view position.</p>

<p>My final pull request only has 10 lines of code change, but as you can see, the involved effort was not trivial. This pull request later got merged into the master branch.</p>

<p>This article might only scratch the surface of the difficulties in open source contribution. The most frustrating thing is that though my activity was basically debugging, current research on debugging couldn&rsquo;t help me much, if at all.</p>

    <HR style="FILTER: alpha(opacity=100,finishopacity=0,style=3)" width="100%" color=#987cb9 SIZE=3>

<section>
<ul >
    
        <li>
        <font size="5" color="green"><b>Prev:</b></font>
        <a href="https://hirico.moe/post/sbv/"
                class="button big previous">Scope, Belief and Value</a></li>
    

    
       
        <li>
        <font size="5" color="green"><b>Next:</b></font>
        <a href="https://hirico.moe/post/understanding/"
                class="button big next">Understand Understanding</a></li>
    
</ul>
</section>

               

    
    
    <div id="disqus_thread"></div>
<script>




(function() { 
var d = document, s = d.createElement('script');

s.src = '//wwwlearnbetterclub.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</article>

</main>

<footer id="footer">
	<section id="footer-message">&copy;  <b>Zhao Gang.</b> All rights reserved. Powered by <a href="http://gohugo.io" target="_blank">Hugo</a>. <a href="https://github.com/kathyqian/crisp-ghost-theme" target="_blank">Crisp</a> theme by <a href="http://kathyqian.com" target="_blank">Kathy Qian</a>.</section>
</footer>

    <script>
      (function(c,f){asyncLoader=function(i,h){i.foreach(function(k,j){e(j,d(j),h)});if(typeof h.callback=="function"){var g=setInterval(function(){if(f.readyState==="complete"){clearInterval(g);h.callback()}},10)}};var d=function(g){var h=g.split(".");return h[h.length-1]},e=function(h,i,g){switch(i){case"js":a(h,g);break;case"css":b(h);break;default:break}},a=function(i,h){var g=document.createElement("script");g.type="text/javascript";g.async=true;g.src=i;document.getElementsByTagName("head")[0].appendChild(g)},b=function(g){var h=document.createElement("link");h.type="text/css";h.rel="stylesheet";h.href=g;document.getElementsByTagName("head")[0].appendChild(h)};Array.prototype.foreach=function(h){for(var g=0;g<this.length;g++){h(g,this[g])}}})(this,document);

      var WebFontConfig={google:{families:["Open Sans:300italic,700italic,300,700","Bree+Serif"]}};
      asyncLoader([
        "//netdna.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.css",
        "//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js",
        "//cdnjs.cloudflare.com/ajax/libs/webfont/1.5.16/webfontloader.js",
        "//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"
      ],{
        callback:function(){
          asyncLoader([
            "https:\/\/hirico.moe\/css/rrssb.css",
            "https:\/\/hirico.moe\/js/gist.min.js", 
            "https:\/\/hirico.moe\/js/rrssb.min.js",
            "//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/default.min.css"
          ], { callback:function() {
              hljs.initHighlighting();
                
          }});
        }
      });
    </script>



	
	</body>
</html>
